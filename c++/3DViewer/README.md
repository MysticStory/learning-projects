# 3DViewer

Проект реализует приложение для просмотра и трансформации 3D-моделей в каркасном виде с поддержкой формата OBJ.  
Разработано на C++17 с использованием паттернов проектирования и объектно-ориентированного подхода.

(Разработано в рамках курса Школа21)

*** C++ | Makefile | CMake | QTEST ***

---

## Команда и вклад

| Участник | Роль | Задачи |
|----------|------|--------|
| TeamLead[@namoraza](https://github.com/) | QA,  Backend |   Тесты, IO, оптимизация |
| [@jeromyni](https://github.com/) | Frontend,  Backend | Интерфейсы, UI, OpenGL |
| [MysticStory(Я)](https://github.com/MysticStory) | Backend | OpenGL, оптимизация |

### Мой вклад

Основные задачи и достижения:

    Графический рендеринг (OpenGL)

        Реализовал систему буферов для объектов сцены:

            Создание и управление VBO (Vertex Buffer Objects) и EBO (Element Buffer Object) для эффективного рендеринга.

            Оптимизация передачи данных в GPU через glBufferData с использованием GL_STATIC_DRAW для статических связей.

            Обработка моделей с >1 млн вершин с задержкой <0.5 сек.


    Архитектура и паттерны

        Спроектировал тонкий контроллер в рамках MVC, что обеспечило:

            Минимальную связанность между моделью и представлением.

            Возможность замены GUI Qt без изменений в бизнес-логике.

        Поддерживал чистую модель на C++17:

            Отказ от Qt-зависимостей в модели для кросс-платформенной поддержки.

            Использование STL (std::vector, std::thread) вместо сторонних библиотек.

    Параллельная загрузка моделей

        Разработал асинхронный загрузчик с использованием std::thread и std::function<void()> callback

            Загрузка .obj-файлов в фоновом режиме без блокировки интерфейса.


    Код-стиль и качество

        Проводил ревью с командой

        Обеспечивал согласованность кода при проектировании

## Оглавление
1. [Особенности](#особенности)
2. [Технологии и паттерны](#технологии-и-паттерны)
3. [Требования](#требования)
4. [Установка](#установка)
5. [Использование](#использование)
6. [Дополнительные функции](#дополнительные-функции)
7. [Структура проекта](#структура-проекта)
8. [Тестирование](#тестирование)
9. [Команда](#команда)

---

## Особенности
- **Загрузка моделей**: Поддержка формата OBJ (вершины + полигоны)
- **Аффинные преобразования**:
  - Перемещение по осям X/Y/Z
  - Поворот вокруг собственных осей
  - Масштабирование
- **Оптимизация**: Работа с моделями до 1 млн вершин без зависаний
- **GUI**: Графический интерфейс на базе Qt
- **Настройки**:
  - Тип проекции (параллельная/центральная)
  - Кастомизация вершин и рёбер
  - Сохранение настроек между сессиями
- **Экспорт**:
  - Сохранение изображений (BMP/JPEG)
  - Запись GIF-анимаций (640x480, 10 FPS)

---

## Технологии и паттерны
### Основной стек
- **Язык**: C++17
- **GUI**: Qt
- **Библиотека**: QtGifImage
- **Тестирование**: Google Test (gtest)
- **Сборка**: Makefile

### Паттерны проектирования
1. **MVC** (Model-View-Controller)
2. **Фасад** (для упрощения взаимодействия с GUI)
3. **Хранитель** (Сохранение/Загрузка Настроек)

---

## Требования
- Компилятор с поддержкой C++17
- GUI-библиотека (Qt)
- CMake (версия 3.12+)
- GTest (для запуска тестов)

---

## Установка
```bash
cd     learning-projects/c++/3dviewer
make all          # Сборка проекта
make install      # Установка в системный каталог
```
---

## Использование
Основные функции

    Загрузка модели:

        Нажмите Open File и выберите .obj-файл

        Название файла отобразится в верхней панели
        
        Количество вершин и рёбер отображается в верхней панели

    Управление моделью:

        Перемещение: Введите значения в поля X/Y/Z Moving the model

        Поворот: Введите углы в градусах в полях поля X/Y/Z Rotate the model, или используйте слайдеры рядом с моделью

        Масштаб: Введите коэффициент маштаба или используйте кнопки 'Zoom In' 'Zoom out'

        Кнопка 'Centering' задает базовые поворот, маштаб и положение модели.


---

## Дополнительные функции
### Настройки отображения

- **Проекция**: Параллельная/Центральная
- **Рёбра**: 
  - Цвет: HEX-код
  - Толщина: 1-5px
  - Стиль: Сплошная/Пунктирная
- **Вершины**:
  - Цвет: HEX-код
  - Размер: 1-10px
  - Форма: Отсутствует/Круг/Квадрат
- **Фон**: Выбор цвета

    Панели:
        В полях панели 'Edge line settings' задается стиль линий каркаса.

        В полях панели 'Vertex settings' задается стиль отображения вершин.

        'Projection type' позволяет переключаться между парралельной и центральной проекцией.
        
        Кнопка 'Reset' задает базовые настройки для заданой панели, а 'Reset Factory' приводит все настройки отображения к базовым.

#### Экспорт

- **Скриншот**: `Save Image` (BMP/JPEG)
- **GIF-анимация**: 
  - Нажмите `Record screencast` 
  - Выполните преобразования в течение 5 сек или остановите `Stop Recording` 
- Файлы сохранится в `build/images_gifs/` с указанием даты, времени и имени модели в названии файла например Spider_10_41_26_30_01_2025.gif 

## Структура проекта

src/  
├── Controller/      # Обработка действий  
├── Geometry/        # Вспомогательные классы для 3D моделей  
├── Model/           # Бизнес-логика (MVC)  
├── QtGifImage/      # Стороняя библиотека на QT для работы c Image, Gif   
└── View/            # GUI (Qt)  

 tests/           # Unit-тесты  
 Makefile         # Сборка проекта  

Тестирование
```bash

make tests       # Запуск unit-тестов
make gcov_report    # Отчёт о покрытии кода
```

## Команда

| TeamLead[@namoraza](https://github.com/) 
| [@jeromyni](https://github.com/) 
| [MysticStory(Я)](https://github.com/MysticStory) 
